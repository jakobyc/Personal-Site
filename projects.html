<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/master.css" />
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css" />
    <link rel="icon" href="content/favicon.png" type="image/x-icon">
    <title>Projects</title>
</head>
<body class="theme-background">
    <!--Nav bar -->
    <nav></nav>

    <!-- Breadcrumb -->
    <div class="breadcrumb-list theme-breadcrumb-list">
        <a class="breadcrumb-item theme-breadcrumb-item" href="index.html"><span class="breadcrumb-item glyphicon glyphicon-home"></span></a>
        <span class="breadcrumb-item theme-breadcrumb-item">/</span>
        <span class="breadcrumb-item-active"><span>Projects</span></span>
    </div>

    <!-- Content -->
    <div class="container">
        <h1 class="theme-content-header">Projects</h1>
        <div>
            <div id="loader-container" style="display: none;">
                <div id="loader">
                    <div class="loading-circle"></div>
                    <div class="loading-circle"></div>
                    <div class="loading-circle"></div>
                </div>
                <h3 style="color: white;">Loading...</h3>
            </div>
            <ul class="list-group" id="repos">
                
            </ul>
        </div>
    </div>

    <!-- Footer -->
    <footer></footer>
    
    <div class="template" style="display: none">
        <div id="repo">
            <li class="list-group-item theme-list-group-item">
                <h3 class="list-group-item-heading">
                    <text>@repo</text>
                </h3>
                <div class="list-group-item-text theme-list-group-item-text">
                    <h4>@description</h4>
                    <p><b>Language:</b> @language</p>
                    <a class="btn theme-btn-git" href= "@html_url" target="_blank">GitHub</a>
                    <a class="btn theme-btn-docs" href="@wiki_url" target="_blank">Documentation</a>
                </div>
            </li>
        </div>
    </div>
</body>
</html>

<script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
<script src="js/bootstrap.js" type="text/javascript"></script>
<script src="js/github.js" type="text/javascript"></script>
<script src="js/layout.js" type="text/javascript"></script>

<script>
    $(document).ready(function ()
     {
         var layout = new Layout();
        layout.load(function() { layout.setActive('#navProjects'); });

        var loader = $('#loader-container');
        loader.show();

        var github = new GitHub();
        github.getRepos("jakobyc", format);

        function format(data)
        {
            if (data.length > 0) 
            {
                var templateString = $('#repo').html();
                
                $.each(data, function ()
                {
                    var template = templateString;
                    template = template.replace("@repo", this.name);
                    template = template.replace("@description", this.description);
                    template = template.replace("@language", this.language);
                    template = template.replace("@html_url", this.html_url);
                    template = template.replace("@wiki_url", this.html_url + "/wiki");

                    $('#repos').append(template);
                });
            }

            loader.hide();
        }
    });
</script>